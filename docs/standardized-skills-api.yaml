openapi: 3.0.0
info:
  version: '1'
  title: standardized-skills-api
  description: 'Topcoder Standardized Skills API Backend <br> <br>
                All endpoints are JWT protected except GET /skills/autocomplete'
servers:
  - url: https://api.topcoder-dev.com/v5/standardized-skills
    description: Development server
  - url:  https://local.topcoder-dev.com/v5/standardized-skills
    description: Local Server
security:
  - Bearer: []
paths:
  /skills:
    get:
      operationId: searchSkills
      tags: ['Standardized Skills API']
      description: 'This endpoint returns the list of all available standardized skills that match the specified criteria <br> skillIds should be a comma-separated skills uuids <br> When the skillIds are specified, the name parameter is ignored <br> If no criteria is provided, all available  skills are fetched'
      parameters:
        - in: query
          name: name
          schema:
            type: string
        - in: query
          name: skillId
          schema:
            type: array
            items:
              type: string
              format: uuid
            description: UUIDs of skills
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
            default: 1
            description: '1 based page index'
        - in: query
          name: perPage
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - in: query
          name: sortBy
          schema:
            type: string
            enum: ['name']
        - in: query
          name: sortOrder
          schema:
            type: string
            enum: ['ASC', 'DESC']
        - in: query
          name: disablePagination
          schema:
            type: boolean
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StandardizedSkill'
          headers:
            X-Page:
              schema:
                type: integer
              description: 'The index of the current page (starting at 1)'
            X-Per-Page:
              schema:
                type: integer
              description: 'The number of items to list per page'
            X-Total:
              schema:
                type: integer
              description: 'The total number of items'
            X-Total-Pages:
              schema:
                type: integer
              description: 'The total number of pages'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'      
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
    post:
      operationId: createSkill
      tags: ['Standardized Skills API']
      description: 'This endpoint creates a new skill and assigns it to an existing category if and only if the skill name is unique'
      requestBody:
        description: 'The request body for creating a new skill'
        content:
          application/json:
            schema:
              type: object
              required: ['name', 'categoryId']
              properties:
                name:
                  type: string
                description:
                  type: string
                categoryId:
                  type: string
                  format: uuid
      responses:
        '201':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StandardizedSkill'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'          
        '403':
          description: 'Forbidden Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenErrorResponse'        
        '409':
          description: 'Conflict Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConflictErrorResponse'          
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /skills/{skillId}:
    get:
      operationId: getSkillById
      tags: ['Standardized Skills API']
      description: 'This endpoint returns the skill details by id'
      parameters:
        - in: path
          required: true
          name: skillId
          schema:
            type: string
            format: uuid
          description: 'The id of the skill to retrieve'
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardizedSkill'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'        
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
    put:
      operationId: updateSkillById
      tags: ['Standardized Skills API']
      description: 'This endpoint updates an existing skill with the information supplied in the request body'
      parameters:
        - in: path
          required: true
          name: skillId
          schema:
            type: string
            format: uuid
          description: 'The id of the skill to update'
      requestBody:
        description: 'The update skill request body'
        content:
          application/json:
            schema:
              type: object
              required: ['name', 'categoryId']
              properties:
                name:
                  type: string
                description:
                  type: string
                categoryId:
                  type: string
                  format: uuid
      responses:
        '201':
          description: 'OK'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardizedSkill'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'        
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'
        '409':
          description: 'Conflict Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConflictErrorResponse'        
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'            
    patch:
      operationId: updateSkillPartiallyById
      tags: ['Standardized Skills API']
      description: 'This endpoint updates an existing skill with the information supplied in the request body. This can be used to update the name, description, category or a combination of them'
      parameters:
        - in: path
          required: true
          name: skillId
          schema:
            type: string
            format: uuid
          description: 'The id of the skill to update'
      requestBody:
        description: 'The update skill request body'
        content:
          application/json:
            schema:
              type: object
              description: 'Can be a combination of any of the properties in the request body'
              properties:
                name:
                  type: string
                description:
                  type: string
                categoryId:
                  type: string
                  format: uuid
      responses:
        '201':
          description: 'OK'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StandardizedSkill'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'        
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'
        '409':
          description: 'Conflict Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConflictErrorResponse'        
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'                        
    delete:
      operationId: deleteSkillById
      tags: ['Standardized Skills API']
      description: 'This endpoint deletes an existing skill'
      parameters:
        - in: path
          required: true
          name: skillId
          schema:
            type: string
            format: uuid
          description: 'The id of the skill to delete'
      responses:
        '204':
          description: 'No Content'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'  
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'            
  /categories:
    get:
      operationId: searchSkillCategories
      tags: ['Standardized Skills API']
      description: 'This endpoint searches the skill categories matching the specified search criteria. If no search criteria is provided then all categories are returned'
      parameters:
        - in: query
          name: name
          schema:
            type: string
        - in: query
          name: perPage
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - in: query
          name: sortBy
          schema:
            type: string
            enum: ['name', 'description', 'createdAt', 'updatedAt']
        - in: query
          name: sortOrder
          schema:
            type: string
            enum: ['ASC', 'DESC']
        - in: query
          name: disablePagination
          schema:
            type: boolean    
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CategoryDetails'
          headers:
            X-Page:
              schema:
                type: integer
              description: 'The index of the current page (starting at 1)'
            X-Per-Page:
              schema:
                type: integer
              description: 'The number of items to list per page'
            X-Total:
              schema:
                type: integer
              description: 'The total number of items'
            X-Total-Pages:
              schema:
                type: integer
              description: 'The total number of pages'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'      
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
    post:
      operationId: createSkillCategory
      tags: ['Standardized Skills API']
      description: 'This endpoint creates a new category with the data in the request body if and only if the category name does not already exist'
      requestBody:
        description: 'The request body for creating a new skill category'
        content:
          application/json:
            schema:
              type: object
              required: ['name']
              properties:
                name:
                  type: string
                description:
                  type: string
      responses:
        '201':
          description: 'Created'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryDetails'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'        
        '403':
          description: 'Forbidden Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenErrorResponse'        
        '409':
          description: 'Conflict Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConflictErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'            
  /categories/{categoryId}:
    get:
      operationId: getSkillCategoryById
      tags: ['Standardized Skills API']
      description: 'This endpoint gets the details of the skill category identified by the given id'
      parameters:
        - in: path
          name: categoryId
          schema:
            type: string
            format: uuid
          required: true
          description: 'The id of the category to retrieve'
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryDetails'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
    put:
      operationId: updateSkillCategory
      tags: ['Standardized Skills API']
      description: 'This endpoint updates an existing category with the data in the request body if and only if the category name does not collide with another existing category'
      parameters:
        - in: path
          required: true
          name: categoryId
          schema:
            type: string
            format: uuid
          description: 'the id of the category to update'  
      requestBody:
        description: 'The request body for updating an existing skill category'
        content:
          application/json:
            schema:
              type: object
              required: ['name', 'description']
              properties:
                name:
                  type: string
                description:
                  type: string
      responses:
        '201':
          description: 'Created'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryDetails'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'        
        '403':
          description: 'Forbidden Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenErrorResponse'         
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'        
        '409':
          description: 'Conflict Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConflictErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'                                    
    patch:
      operationId: updatePartialSkillCategory
      tags: ['Standardized Skills API']
      description: 'This endpoint updates an existing category with the data in the request body if and only if the category name does not collide with another existing category. This can be used for updating either name or description or a combination of the two'
      parameters:
        - in: path
          required: true
          name: categoryId
          schema:
            type: string
            format: uuid
          description: 'the id of the category to update'  
      requestBody:
        description: 'The request body for updating an existing skill category'
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
      responses:
        '201':
          description: 'Created'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoryDetails'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'        
        '403':
          description: 'Forbidden Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenErrorResponse'         
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'        
        '409':
          description: 'Conflict Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConflictErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'                                                
    delete:
      operationId: deleteSkillCategory
      tags: ['Standardized Skills API']
      description: 'This endpoint deletes an existing category'
      parameters:
        - in: path
          name: categoryId
          schema:
            type: string
            format: uuid
          required: true
          description: 'The id of the category to delete'
      responses:
        '204':
          description: 'No Content'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'  
        '403':
          description: 'Forbidden Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenErrorResponse'        
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'                                    
  /categories/{categoryId}/skills:
    get:
      operationId: getSkillsByCategory
      tags: ['Standardized Skills API']
      description: 'This endpoint returns the list of all skills in a given category'
      parameters:
        - in: path
          name: categoryId
          schema:
            type: string
            format: uuid
          required: true
          description: 'The id of the category for which to get all the skills'
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
            default: 1
            description: '1 based page index'
        - in: query
          name: perPage
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - in: query
          name: sortBy
          schema:
            type: string
            enum: ['name']
        - in: query
          name: sortOrder
          schema:
            type: string
            enum: ['ASC', 'DESC']
        - in: query
          name: disablePagination
          schema:
            type: boolean    
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OnlySkill'
          headers:
            X-Page:
              schema:
                type: integer
              description: 'The index of the current page (starting at 1)'
            X-Per-Page:
              schema:
                type: integer
              description: 'The number of items to list per page'
            X-Total:
              schema:
                type: integer
              description: 'The total number of items'
            X-Total-Pages:
              schema:
                type: integer
              description: 'The total number of pages'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'      
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'      
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /user-skills/{userId}:
    get:
      operationId: getAllUserSkills
      tags: ['Standardized Skills API']
      description: 'This endpoint returns all the skill details associated with the user identified by the given userId.  <br> If the member does not have any skills associated, then an empty array is returned'
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
          description: 'The id of the user for whome to list the skills'
        - in: query
          name: sortBy
          schema:
            type: string
            enum: ['name', 'category', 'level']
        - in: query
          name: sortOrder
          schema:
            type: string
            enum: ['ASC', 'DESC']
        - in: query
          name: disablePagination
          schema:
            type: boolean
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSkill'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'          
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
    post:
      operationId: 'createUserSkills'
      tags: ['Standardized Skills API']
      description: 'Creates an association between a user and the skills supplied in the request body <br> Each skill is identified by its unique id, the skill level represents how the user got the skill: `self-declared` or `verified` <br> The user to skill association will be created only if it does not already exist.'
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
          description: 'The id of the member whose skill associations are to be updated'
      requestBody:
        description: 'Associates the specified skills with the user identified by the given user id'
        required: true
        content:
          application/json:
            schema:
              type: object
              required: ['skills']
              properties:
                skills:
                  type: array
                  items:
                    $ref: '#/components/schemas/UserSkillCreateRequest'
      responses:
        '201':
          description: 'Created'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSkill'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'        
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
    put:
      operationId: 'updateUserSkills'
      tags: ['Standardized Skills API']
      description: >- 
       Updates the skills associations between the user identified by the given userId and the specified skills.
      
       <br>The following rules apply to this endpoint implementation:
        * If the user has a verified skill and it is not present in the request body, then it should not be removed
        * If the user has a self-declared skill, and that skill is not present in the request body, then the association should be removed
       
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
          description: 'The id of the member whose skill associations are to be updated'
      requestBody:
        description: 'Update member skill association request'
        required: true
        content:
          application/json:
            schema:
              type: object
              required: ['skills']
              properties:
                skills:
                  type: array
                  items:
                    $ref: '#/components/schemas/UserSkillCreateRequest'
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSkill'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'          
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /skills/autocomplete:
    get:
      operationId: suggestSkills
      tags: ['Standardized Skills API']
      description: 'This endpoint handles the typeahead requests based on user inputs. It returns the list of skills that are prefixed with the input term'
      parameters:
        - in: query
          name: term
          schema:
            type: string
        - in: query
          name: size
          schema:
            type: integer
            minimum: 1
            default: 20
            description: 'The size of the skills to be suggested'
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SuggestSkillsResponse'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'          
        '403':
          description: 'Forbidden Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ForbiddenErrorResponse'          
        '500':
          description: 'Internal Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /skill-source-types:
    get:
      operationId: listSkillSourceTypes
      tags: ['Standardized Skills API']
      description: 'This endpoint returns the list of skill sources that match the name parameter. If no name parameter is provided it returns all skill sources'
      parameters:
        - in: query
          name: name
          schema:
            type: string
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
            default: 1
            description: '1 based page index'
        - in: query
          name: perPage
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - in: query
          name: sortBy
          schema:
            type: string
            enum: ['name']
        - in: query
          name: sortOrder
          schema:
            type: string
            enum: ['ASC', 'DESC']
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SkillSourceType'
          headers:
            X-Page:
              schema:
                type: integer
              description: 'The index of the current page (starting at 1)'
            X-Per-Page:
              schema:
                type: integer
              description: 'The number of items to list per page'
            X-Total:
              schema:
                type: integer
              description: 'The total number of items'
            X-Total-Pages:
              schema:
                type: integer
              description: 'The total number of pages'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'      
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /skill-levels:
    get:
      operationId: listSkillLevels
      tags: ['Standardized Skills API']
      description: 'This lookup endpoint gets all skills levels available in the system'
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SkillLevel'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'          
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /work-skills/{workTypeId}/{workId}:
    get:
      operationId: getWorkSkills
      tags: ['Standardized Skills API']
      description: 'This endpoint gets the list of skills associated to the work identified by the specified workId and work type id<br> The input workId represents the id of the work in the Topcoder platform (challenge id, gig id, task id)'
      parameters:
        - in: path
          name: workId
          required: true
          schema:
            type: string
            format: uuid
          description: 'The Topcoder id of the work for which to get the skills'
        - in: path
          name: workTypeId
          required: true
          schema:
            type: string
            format: uuid
          description: 'The Work type id'
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/WorkSkill'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'          
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /work-skills:
    post:
      operationId: 'createWorkSkills'
      tags: ['Standardized Skills API']
      description: 'Associates a list of skills to the work identified by workId and workTypeId'
      requestBody:
        description: 'Associates the skills identified by the specified skill ids with the given work identified by workId and workTypeId'
        required: true
        content:
          application/json:
            schema:
              type: object
              required: ['workId', 'workTypeId']
              properties:
                workId:
                  type: string
                  format: uuid
                workTypeId:
                  type: string
                  format: uuid
                skillIds:
                  type: array
                  items:
                    type: string
                    format: uuid
      responses:
        '201':
          description: 'Created'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
        '404':
          description: 'Not Found Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFoundErrorResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /skill-events:
    post:
      operationId: 'recordSkillEvent'
      tags: ['Standardized Skills API']
      description: 'Creates skills event from the specified event payload. payload should be a valid JSON string <br>The following skill events need to be supported to start with: `Challenge Completed and winners announced`'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: ['topic', 'payload']
              properties:
                topic:
                  type: string
                payload:
                  type: string
                  format: json
      responses:
        '201':
          description: 'Created'
        '400':
          description: 'Bad Request Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
        '500':
          description: 'Server Error'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
  /health:
    get:
      tags: ['Health']
      description: 'Get health status of the app'
      responses:
        "200":
          description: 'OK'
          content:
            application/json:
              schema:
                type: object
                properties:
                  checksRun:
                    type: integer
                    description: 'Denotes the number of times the health check has been performed'
        "503":
          description: 'Service unavailable'
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServiceUnavailableErrorResponse"

components:
  securitySchemes:
    Bearer:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    SuggestSkillsResponse:
      properties:
        id:
          type: string
          example: 'd3f922b7-e224-4d83-af6f-c3ef248c855b'
        name:
          type: string
          example: 'Java (Programming Language)'
        category:
          type: object
          properties:
            id:
             type: string
             format: uuid
            name:
             type: string
             example: 'Information Technology'
    StandardizedSkill:
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        category:
          $ref: '#/components/schemas/Category'
    OnlySkill:
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string      
    Category:
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
    CategoryDetails:
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
    UserSkillCreateRequest:
      required: ['id']
      properties:
        id:
          type: string
          format: uuid
        levelId:
          type: string
          format: uuid
    UserSkill:
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        category:
          $ref: '#/components/schemas/Category'
        levels:
         type: array
         items:
          $ref: '#/components/schemas/SkillLevel'
    SkillSourceType:
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: 'challenge'
        description:
          type: string
    SkillLevel:
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: 'self-declared'
        description:
          type: string      
    WorkSkill:
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        category:
          $ref: '#/components/schemas/Category'
    BadRequestResponse:
      properties:
        message:
          type: string
    ServerErrorResponse:
      properties:
        message:
          type: string
    NotFoundErrorResponse:
      properties:
        message:
          type: string
    ConflictErrorResponse:
      properties:
        message:
          type: string      
    ServiceUnavailableErrorResponse:
      properties:
        message:
          type: string     
    ForbiddenErrorResponse:
      properties:
        version:
          type: string
        result:
          properties:
            success:
              type: boolean
              default: false
            status:
              type: number
              default: 403
            content:
              properties:
                message:
                  type: string